<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
  * Copyright (C) 2008 Backplane Ltd.
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
  * You may obtain a copy of the License at
  *
  *  http://www.apache.org/licenses/LICENSE-2.0
  *
  * Unless required by applicable law or agreed to in writing, software
  * distributed under the License is distributed on an "AS IS" BASIS,
  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  * See the License for the specific language governing permissions and
  * limitations under the License.
-->
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xf="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xfe="http://www.w3.org/2002/xforms/extensions">
	<head>
		<title>Test xf:message</title>
		<script type="text/javascript" src="../ubiquity-loader.js" >/**/</script>
		<style type="text/css">
	    .sample {
   	      border: 1px solid silver;
  	      background-color: lightyellow;
   	      padding: 30px;
   	      margin-left: 30px;
   	      width: 85%;
	    }
	    pre {
  	      background-color: black;
  	      color: green;
  	      padding: 5px;
  	      overflow: auto;
  	      padding: 30px;
  	      margin-left: 30px;
  	      width: 85%;
  	    }
  	    xf\:output {
  	      margin-top: 10px;
  	    }
	  </style>
	</head>
	<body>
		<xf:model>
			<xf:instance>
				<data xmlns="">
					<status>ready</status>
					<message>ref Message Works</message>
					<message>value Message Works</message>
				</data>
			</xf:instance>
		</xf:model>
		
		<h1>Testing XForms message</h1>
		<p>
		  The XForms <code>message</code> element is used by form authors to display
		  messages.  The xf:message element has a level attribute which can be one of
		  these three options: "modal", "modeless", or "ephemeral".  The default is
		  "modal".  For graphical browsers, Ubiquity XForms displays a modal xf:message
		  in a dialog window. Since it is modal, you have to click on the OK button
		  before you can do anything else on the page.  For graphical browsers,
		  Ubiquity XForms displays a modeless xf:message in a dialog window.  Since it
		  is modeless, you can still select on other buttons and type words on the
		  page.  An ephemeral xf:message works exactly as a xf:hint does (not in a
		  dialog window).
		</p>
		<p>
		  For each of the examples we have below, there is both the markup and a live
		  version of the code; so click the buttons and check to see if the messages
		  show up in the right format with the right message.
		</p>
		<h2>The default message</h2>
		<p>
		  The default message has no attributes, which means the xf:message will show
		  a modal message:
		  <pre>
&lt;xf:trigger>
  &lt;xf:label>Click to see a modal message saying "Default Message Works".&lt;/xf:label>
  &lt;xf:action ev:event="DOMActivate">
    &lt;xf:message>Default Message Works&lt;/xf:message>
  &lt;/xf:action>
&lt;/xf:trigger>
		  </pre>
		  <div class="sample">
		    <xf:trigger>
		      	<xf:label>Click to see a modal message saying "Default Message Works".</xf:label>
		        <xf:action ev:event="DOMActivate">
		          <xf:message>Default Message Works</xf:message>
		        </xf:action>
		    </xf:trigger>
			<xf:output ref="status">
				<xf:label>Status:</xf:label>
			</xf:output>
		  </div>
		</p>
		
		<h2>The modal message</h2>
		<p>
		  A modal message can be shown when xf:message has the level attribute as
		  "modal":
		  <pre>
&lt;xf:trigger>
  &lt;xf:label>Click to see a modal message saying "Modal Message Works".&lt;/xf:label>
  &lt;xf:action ev:event="DOMActivate">
    &lt;xf:message level="modal">Modal Message Works&lt;/xf:message>
  &lt;/xf:action>
&lt;/xf:trigger>
		  </pre>
		  <div class="sample">
		    <xf:trigger>
		      	<xf:label>Click to see a modal message saying "Modal Message Works".</xf:label>
		        <xf:action ev:event="DOMActivate">
		          <xf:message level="modal">Modal Message Works</xf:message>
		        </xf:action>
		    </xf:trigger>
		  </div>
		</p>
		<p>
		  A modal message works with the ref attribute also:
		  <pre>
&lt;xf:trigger>
  &lt;xf:label>Click to see a modal message saying "ref Message Works".&lt;/xf:label>
  &lt;xf:action ev:event="DOMActivate">
    &lt;xf:message level="modal" ref="/data/message[1]">&lt;/xf:message>
  &lt;/xf:action>
&lt;/xf:trigger>
		  </pre>
		  <div class="sample">
		    <xf:trigger>
		      	<xf:label>Click to see a modal message saying "ref Message Works".</xf:label>
		        <xf:action ev:event="DOMActivate">
		          <xf:message level="modal" ref="/data/message[1]"></xf:message>
		        </xf:action>
		    </xf:trigger>
		  </div>
		</p>
		
		<h2>The modeless message</h2>
		<p>
		  A modeless message can be shown when xf:message has the level attribute as
		  "modeless":
		  <pre>
&lt;xf:trigger>
  &lt;xf:label>Click to see a modeless message saying "Modeless Message Works".&lt;/xf:label>
  &lt;xf:action ev:event="DOMActivate">
    &lt;xf:message level="modeless">Modeless Message Works&lt;/xf:message>
  &lt;/xf:action>
&lt;/xf:trigger>
		  </pre>
		  <div class="sample">
		    <xf:trigger>
		      	<xf:label>Click to see a modeless message saying "Modeless Message Works".</xf:label>
		        <xf:action ev:event="DOMActivate">
		          <xf:message level="modeless">Modeless Message Works</xf:message>
		        </xf:action>
		    </xf:trigger>
		  </div>
		</p>
		<p>
		  A modeless message works with the value attribute also:
		  <pre>
&lt;xf:trigger>
  &lt;xf:label>Click to see a modeless message saying "value Message Works".&lt;/xf:label>
  &lt;xf:action ev:event="DOMActivate">
    &lt;xf:message level="modeless" value="/data/message[2]">&lt;/xf:message>
  &lt;/xf:action>
&lt;/xf:trigger>
		  </pre>
		  <div class="sample">
		    <xf:trigger>
		      	<xf:label>Click to see a modeless message saying "value Message Works".</xf:label>
		        <xf:action ev:event="DOMActivate">
		          <xf:message level="modeless" value="/data/message[2]"></xf:message>
		        </xf:action>
		    </xf:trigger>
		  </div>
		</p>
		
		<h2>The ephemeral message</h2>
		<p>
		  A ephemeral message can be shown when xf:message has the level attribute as
		  "ephemeral":
		  <pre>
&lt;xf:trigger>
  &lt;xf:label>Click to see a ephemeral message saying "Ephemeral Message Works".&lt;/xf:label>
  &lt;xf:action ev:event="DOMActivate">
    &lt;xf:message level="ephemeral">Ephemeral Message Works&lt;/xf:message>
  &lt;/xf:action>
&lt;/xf:trigger>
		  </pre>
		  <div class="sample">
		    <xf:trigger>
		      	<xf:label>Click to see a ephemeral message saying "Ephemeral Message Works".</xf:label>
		        <xf:action ev:event="DOMActivate">
		          <xf:message level="ephemeral">Ephemeral Message Works</xf:message>
		        </xf:action>
		    </xf:trigger>
		  </div>
		</p>
		<p>
		  A ephemeral message works with the ref attribute also:
		  <pre>
&lt;xf:input ref="message[2]">
  &lt;xf:label>Mouseover to see a ephemeral message saying "value Message Works".&lt;/xf:label>
  &lt;xf:message ev:event="xforms-hint" level="ephemeral" ref=".">&lt;/xf:message>
&lt;/xf:input>
		  </pre>
		  <div class="sample">
		    <xf:input ref="message[2]">
		      	<xf:label>Mouseover to see a ephemeral message saying "value Message Works".</xf:label>
		        <xf:message ev:event="xforms-hint" level="ephemeral" ref="."></xf:message>
		    </xf:input>
		  </div>
		</p>

		<h2>Styling and child elements</h2>
		<p>
		  The xf:message's style attribute can control the width and height of the
		  message window, and a child element (like output) of xf:message should
		  still display correctly in the message window:
		  <pre>
&lt;xf:trigger>
  &lt;xf:label>Click to see a modeless message saying "Message says: ref Message Works!".&lt;/xf:label>
  &lt;xf:message ev:event="DOMActivate" level="modeless" style="width: 400px; height: 200px;">
    Message says: &lt;xf:output ref="/data/message[1]">&lt;/xf:output>!
  &lt;/xf:message>
&lt;/xf:trigger>
		  </pre>
		  <div class="sample">
		    <xf:trigger>
		        <xf:label>Click to see a modeless message saying "Message says: ref Message Works!".</xf:label>
		        <xf:message ev:event="DOMActivate" level="modeless" style="width: 400px; height: 200px;">
		        	Message says: <xf:output ref="/data/message[1]"></xf:output>!
		        </xf:message>
		    </xf:trigger>
		  </div>
		</p>
		<h2>Further reading</h2>
		<p>
		  For more information see the <a href="http://www.w3.org/TR/xforms11/#action-message">
		  definition of message in the XForms 1.1 specification</a>.
		</p>
	</body>
</html>
