<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ev="http://www.w3.org/2001/xml-events"
	xmlns:xf="http://www.w3.org/2002/xforms"
	xmlns:fa="http://www.w3.org/TR/forms-a"
	xmlns:xsd="http://www.w3.org/2001/XMLSchema"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-Instance">
<head>
<script src="../../ubiquity-loader.js" type="text/javascript">/**/</script>
<link type="text/css" href="style/gen_default.css" rel="stylesheet"></link>
<link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.5.2/build/calendar/assets/skins/sam/calendar.css"></link>
</head>
<body class="yui-skin-sam">
<xf:model id="m1">
</xf:model>

<xf:output class="company_name"> 
   <xf:label>Big Red Loan and Mortgage Co.</xf:label>
</xf:output>
      
<xf:output class="company_motto"> 
    <xf:label>The name to trust when you're... in the red.</xf:label>
</xf:output>

<xf:form id="f" fa:name="datarecord"
    action="http://xformstest.org/cgi-bin/echo.sh" method="post">
   
   <br />
   
    <xf:group id="b" fa:name="borrower">
        <xf:input id="d" fa:name="startdate" fa:datatype="date"
            fa:value="2008-08-08">
            <xf:label>Agreement Date:</xf:label>
        </xf:input>     
        <br />      
        
        <xf:input id="name" fa:name="name" fa:datatype="string"
            fa:value="Joe Q. Public" fa:constraint="string-length(.) > 0">
            <xf:label for="name">Name:</xf:label>
        </xf:input>     
        <br />
        
        <xf:input id="addr" fa:name="addr" fa:datatype="string"
            fa:value="123 Main St. Tinyville"
            fa:constraint="string-length(.) > 0">
            <xf:label for="addr">Address:</xf:label>
        </xf:input>
        <br />
        
        <xf:input id="p" fa:name="principal" fa:datatype="double"
            fa:value="10000" fa:constraint=". &gt;= 1000 and . &lt;= 100000">
            <xf:label for="addr">Principal:</xf:label>
        </xf:input>
        <br />      
    </xf:group>

    <xf:group id="t" fa:name="terms">
        <xf:input id="d" fa:name="duration" fa:datatype="integer"
            fa:value="12" fa:constraint=". &gt; 0 and . &lt;= 84">
            <xf:label>Duration of Loan in Months:</xf:label>
        </xf:input>     
      <br />
        
        <xf:input id="in" fa:name="interestrate" fa:datatype="double"
            fa:value="5" fa:constraint=". &gt;= 5 and . &lt;= 60">
            <xf:label>Yearly Interest Rate:</xf:label>
        </xf:input>
      <br />            
    </xf:group>
</xf:form>

<hr size="6" class="rule"></hr>

<xf:group>

    <xf:output id="o1" fa:name="rates"
        fa:calculate="terms/interestrate div 1200.0">
        <xf:label>Yearly Interest Rate:</xf:label>
    </xf:output>
    
    <xf:output id="o3" fa:name="monthly-payment"
        fa:calculate="ceiling(borrower/principal + (125 * terms/interestrate * (terms/duration * 0.1))) div terms/duration">
        <xf:label>Monthly Payment:</xf:label>
    </xf:output>
    
    <xf:output id="o2" fa:name="totalpayout"
        fa:calculate="ceiling(borrower/principal + (125 * terms/interestrate * (terms/duration * 0.1)))">
        <xf:label>Total Payout:</xf:label>
    </xf:output>
    
</xf:group>

<hr size="6" class="rule"></hr>
<script>
    function showModel() {
        var model = document.getElementById("m1");
        var instDoc = model.getInstanceDocument();
        var str = xmlText(instDoc.documentElement);
        alert(str);
    }
    </script>
<input type="button" value="show model" onclick="showModel()" />
</body>
</html>