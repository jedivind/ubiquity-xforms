<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xforms="http://www.w3.org/2002/xforms">
  <head>
    <title>11.2.f Test no-data error from relevance pruning before validation-error</title>
    
    <script src="../../../../../src/ubiquity-loader.js" type="text/javascript">/**/</script>
    <link href="../../../Edition1/driverPages/forms/TestSuite11.css" rel="stylesheet"/>
  </head>
  <body>
    <xforms:model id="m1">
       <xforms:instance>       
          <car xmlns="">
          	<make>Toyota</make>
          	<model>Prius</model>
          </car>
       </xforms:instance>
       
       <!-- make element is invalid but non-relevant -->
       <xforms:bind nodeset="make" type="xsd:integer" relevant="false()"></xforms:bind>
       
       <!-- Test no-data error from relevance pruning before validation-error -->
       <xforms:submission id="s1" ref="/car/make" method="post" replace="none">
          <xforms:resource>http://xformstest.org/cgi-bin/echo.sh</xforms:resource>
       		<xforms:message ev:event="xforms-submit-done" level="modal">xforms-submit-done (FAIL TEST)</xforms:message>
       		<xforms:message ev:event="xforms-submit-error" level="modal"
       		     if="event('error-type') = 'no-data'">xforms-submit-error (PASS TEST)</xforms:message>
       		<xforms:message ev:event="xforms-submit-error" level="modal"
       		     if="event('error-type') != 'no-data'">xforms-submit-error (FAIL TEST)</xforms:message>
       </xforms:submission>
       
    </xforms:model>
  	<xforms:group>
	  	<xforms:label class="title">11.2.f Test no-data error from relevance pruning before validation-error</xforms:label>
	</xforms:group>
	<xforms:group>
		<xforms:label>The submit control below must produce a message "xforms-submit-error (PASS TEST)"</xforms:label>
	</xforms:group>
	<xforms:submit submission="s1">
	   <xforms:label>Test no-data error from relevance pruning before validation-error</xforms:label>
	</xforms:submit>
  </body>
</html>
