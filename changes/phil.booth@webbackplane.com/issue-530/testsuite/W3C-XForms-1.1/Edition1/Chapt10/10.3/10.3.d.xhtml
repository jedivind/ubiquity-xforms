<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
            xmlns:xforms="http://www.w3.org/2002/xforms"
            xmlns:ev="http://www.w3.org/2001/xml-events"
            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
            xmlns:xsd="http://www.w3.org/2001/XMLSchema">
    <head>
        <title>10.3.d insert action using at attribute</title>
        
        <script type="text/javascript"
              src="../../../../../src/ubiquity-loader.js">/**/</script>
      <link rel="stylesheet" href="../../driverPages/forms/TestSuite11.css" type="text/css"/>
    </head>
    <body>
      <xforms:model id="mod1">
            <xforms:instance xmlns="" id="first">
                <number_lists>
                    <number_list>
                        <number>1</number>
                        <number>2</number>
                        <number>3</number>
                        <number>4</number>
                        <number>5</number>
                    </number_list>
                    <number_list/>
                </number_lists>
            </xforms:instance>
        </xforms:model>
        <xforms:group>
            <xforms:label class="title">10.3.d insert action using at attribute</xforms:label>
        </xforms:group>
        <xforms:group>
            <xforms:label>
              After activating any of the Test triggers the integer sequence must match the one on 
              the label of the activated trigger. 
            </xforms:label>
        </xforms:group>
        <xforms:group>
            <xforms:trigger>
                <xforms:label>Test A: 1 2 3 4 5 5</xforms:label>
                <xforms:action ev:event="DOMActivate">
                    <xforms:reset model="mod1"/>
                    
                    <xforms:insert nodeset="number_list[1]/number"/>
                </xforms:action>
            </xforms:trigger>
            <xforms:trigger>
                <xforms:label>Test B: 1 2 5 3 4 5</xforms:label>
                <xforms:action ev:event="DOMActivate">
                    <xforms:reset model="mod1"/>
                    
                    <xforms:insert nodeset="number_list/number" at="1.5"/>
                </xforms:action>
            </xforms:trigger>
            <xforms:trigger>
                <xforms:label>Test C: 1 2 3 5 4 5</xforms:label>
                <xforms:action ev:event="DOMActivate">
                    <xforms:reset model="mod1"/>
                    
                    <xforms:insert nodeset="number_list/number" at="3"/>
                </xforms:action>
            </xforms:trigger>
            <xforms:trigger>
                <xforms:label>Test D: 1 5 2 3 4 5</xforms:label>
                <xforms:action ev:event="DOMActivate">
                    <xforms:reset model="mod1"/>
                    
                    <xforms:insert nodeset="number_list/number" at="-2"/>
                </xforms:action>
            </xforms:trigger>
            <xforms:trigger>
                <xforms:label>Test E: 1 2 3 4 5 5</xforms:label>
                <xforms:action ev:event="DOMActivate">
                    <xforms:reset model="mod1"/>
                     
                     <xforms:insert nodeset="number_list/number" at="6"/>
                </xforms:action>
            </xforms:trigger>
            <xforms:trigger>
                <xforms:label>Test F: 1 2 3 4 5 5</xforms:label>
                <xforms:action ev:event="DOMActivate">
                    <xforms:reset model="mod1"/>
                     
                     <xforms:insert nodeset="number_list/number" at="'foo'"/>
                </xforms:action>
            </xforms:trigger>
            <xforms:trigger>
                <xforms:label>Test G: List sizes remain 5 and 0, respectively</xforms:label>
                <xforms:action ev:event="DOMActivate">
                    <xforms:reset model="mod1"/>
                     
                     <xforms:insert nodeset="number_list[2]/number" at="2"/>
                </xforms:action>
            </xforms:trigger>
        </xforms:group>
        <xforms:group>
            <xforms:label>Integer sequence: </xforms:label>
        </xforms:group>
        <xforms:repeat nodeset="number_list[1]/number">
            <xforms:output value=".">
                <xforms:label/>
            </xforms:output>
        </xforms:repeat>
        <xforms:output value="count(number_list[1]/number)">
            <xforms:label>Size of List X: </xforms:label>
        </xforms:output>
        <xforms:output value="count(number_list[2]/number)">
            <xforms:label>Size of List Y: </xforms:label>
        </xforms:output>
    </body>
</html>