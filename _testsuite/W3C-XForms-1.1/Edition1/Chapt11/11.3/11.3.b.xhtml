<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xforms="http://www.w3.org/2002/xforms">
  <head>
    <title>11.3.b xforms-submit-serialize event with submission-body property</title>
    <script src="http://ubiquity-xforms.googlecode.com/svn/tags/0.5.1/ubiquity-loader.js" type="text/javascript"/>
    <link rel="stylesheet" href="../../driverPages/forms/TestSuite11.css" type="text/css"/>
    
  </head>
  <body>
    <xforms:model id="m1">
       <xforms:instance>       
          <car>
          	<make>Toyota</make>
          	<model>Prius</model>
          </car>
       </xforms:instance>
       
       <xforms:instance id="holder">
		  <data>
		  	<event_data/>
		  </data>
       </xforms:instance>
       <xforms:submission id="submission" method="post" action="http://xformstest.org/cgi-bin/echo.sh"/>
    </xforms:model>
    <xforms:group>
  	   <xforms:label class="title">11.3.b xforms-submit-serialize event with submission-body property</xforms:label>
    </xforms:group>
	<xforms:group>
	  <xforms:label>
	    After you activate the Submit Now submit control you must see an xforms-submit-serialize 
	    message. The page must also be replaced by the form data, where you must see the value 
	    &lt;data&gt;MyNewData&lt;/data&gt;. You must not see the values "Toyota" or "Prius". 
	  </xforms:label>
	</xforms:group>
	<xforms:action ev:event="xforms-submit-serialize" ev:observer="submission">
       	<xforms:message level="modal">xforms-submit-serialize</xforms:message>
       	<xforms:setvalue ref="event('submission-body')">&lt;data&gt;MyNewData&lt;/data&gt;</xforms:setvalue>
    </xforms:action>
	<xforms:group>
		<xforms:submit submission="submission">
	      	<xforms:label>Submit Now</xforms:label>
      	</xforms:submit>
	</xforms:group>
  </body>
</html>
