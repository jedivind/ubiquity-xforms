<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xforms="http://www.w3.org/2002/xforms">
	<head>
		<title>6.1.5.a calculate property</title>
		<script src="http://ubiquity-xforms.googlecode.com/svn/tags/0.5.1/ubiquity-loader.js" type="text/javascript"/>
    <link rel="stylesheet" href="../../../driverPages/forms/TestSuite11.css" type="text/css"/>
		
	</head>
	<body>
    <xforms:model>
			<xforms:instance>
				<order>
					<item>
						<amount/>
						<discount/>
					</item>
				</order>
			</xforms:instance>
			<xforms:bind nodeset="/order/item/discount" calculate="/order/item/amount * 0.5" relevant="/order/item/amount &gt; 1000"/>
		</xforms:model>
		<xforms:group>
			<xforms:label class="title">6.1.5.a calculate property</xforms:label>
		</xforms:group>
		<xforms:group>
			<xforms:label>
				You must see the output "Discount : 750" after you have activated the Enter 1500 trigger. 
				You must see the output "Discount : 1000" after you have activated the Enter 2000 trigger. 
			</xforms:label>
		</xforms:group>
		
		<xforms:group>
			<xforms:trigger>
				<xforms:label>Enter 250</xforms:label>
				<xforms:setvalue ref="/order/item/amount" ev:event="DOMActivate">250</xforms:setvalue>
			</xforms:trigger>
			<xforms:trigger>
				<xforms:label>Enter 1500</xforms:label>
				<xforms:setvalue ref="/order/item/amount" ev:event="DOMActivate">1500</xforms:setvalue>
			</xforms:trigger>
			<xforms:trigger>
				<xforms:label>Enter 2000</xforms:label>
				<xforms:setvalue ref="/order/item/amount" ev:event="DOMActivate">2000</xforms:setvalue>
			</xforms:trigger>
		</xforms:group>
		
		<xforms:output ref="/order/item/discount">
			<xforms:label>Discount : </xforms:label>
		</xforms:output>
		
	</body>
</html>
