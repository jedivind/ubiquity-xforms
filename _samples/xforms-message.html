<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
  * Copyright (C) 2008 Backplane Ltd.
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
  * You may obtain a copy of the License at
  *
  *  http://www.apache.org/licenses/LICENSE-2.0
  *
  * Unless required by applicable law or agreed to in writing, software
  * distributed under the License is distributed on an "AS IS" BASIS,
  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  * See the License for the specific language governing permissions and
  * limitations under the License.
-->
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xf="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xfe="http://www.w3.org/2002/xforms/extensions">
	<head>
		<title>Test xf:message</title>
		<script type="text/javascript" src="../src/ubiquity-loader.js" >/**/</script>
		<style type="text/css">
	    .sample {
   	      border: 1px solid silver;
  	      background-color: lightyellow;
   	      padding: 30px;
   	      margin-left: 30px;
   	      width: 85%;
	    }
	    pre {
  	      background-color: black;
  	      color: green;
  	      padding: 5px;
  	      overflow: auto;
  	      padding: 30px;
  	      margin-left: 30px;
  	      width: 85%;
  	    }
  	    xf\:output {
  	      margin-top: 10px;
  	    }
	  </style>
	</head>
	<body>
		<xf:model>
			<xf:instance>
				<data xmlns="">
					<status>ready</status>
					<message>Correct!</message>
					<message>Wrong!</message>
					<message>Reminder: Don't forget to check over your work when you are finished.</message>
					<message>Your text!</message>
					<message>File X</message>
				</data>
			</xf:instance>
		</xf:model>
		
		<h1>Testing XForms message</h1>
		<p>
		  The XForms <code>message</code> element is used by form authors to display
		  messages.  The xf:message element has a level attribute which can be one of
		  these three options: "modal", "modeless", or "ephemeral".  The default is
		  "modal".  For graphical browsers, Ubiquity XForms displays a modal xf:message
		  in a dialog window. Since it is modal, you have to click on the OK button
		  before you can do anything else on the page.  For graphical browsers,
		  Ubiquity XForms displays a modeless xf:message in a dialog window.  Since it
		  is modeless, you can still select on other buttons and type words on the
		  page.  An ephemeral xf:message works exactly as a xf:hint does (not in a
		  dialog window).
		</p>
		<p>
		  For each of the examples we have below, there is both the markup and a live
		  version of the code; so click the buttons and check to see if the messages
		  show up in the right format with the right message.
		</p>
		<xf:output ref="status">
			<xf:label>Status:</xf:label>
		</xf:output>
		<h2>The default message</h2>
		<p>
		  The default message has no attributes, which means the xf:message will show
		  a modal message.  Click to see a modal message saying "You are about to delete
		  File A.":
		  <pre>
&lt;xf:trigger>
  &lt;xf:label>Delete File A.&lt;/xf:label>
  &lt;xf:action ev:event="DOMActivate">
    &lt;xf:message>You are about to delete File A.&lt;/xf:message>
  &lt;/xf:action>
&lt;/xf:trigger>
		  </pre>
		  <div class="sample">
		    <xf:trigger>
		      	<xf:label>Delete File A.</xf:label>
		        <xf:action ev:event="DOMActivate">
		          <xf:message>You are about to delete File A.</xf:message>
		        </xf:action>
		    </xf:trigger>
		  </div>
		</p>
		
		<h2>The modal message</h2>
		<p>
		  A modal message can be shown when xf:message has the level attribute as
		  "modal".  Click to see a modal message saying "You are about to delete File B.":
		  <pre>
&lt;xf:trigger>
  &lt;xf:label>Delete File B.&lt;/xf:label>
  &lt;xf:action ev:event="DOMActivate">
    &lt;xf:message level="modal">You are about to delete File B.&lt;/xf:message>
  &lt;/xf:action>
&lt;/xf:trigger>
		  </pre>
		  <div class="sample">
		    <xf:trigger>
		      	<xf:label>Delete File B.</xf:label>
		        <xf:action ev:event="DOMActivate">
		          <xf:message level="modal">You are about to delete File B.</xf:message>
		        </xf:action>
		    </xf:trigger>
		  </div>
		</p>
		<p>
		  A modal message works with the ref attribute also.  Click to see a modal message
		  saying "Correct!" or "Wrong!":
		  <pre>
&lt;xf:label>2 + 2 = ?&lt;/xf:label>
&lt;xf:trigger>
  &lt;xf:label>4&lt;/xf:label>
  &lt;xf:action ev:event="DOMActivate">
    &lt;xf:message level="modal" ref="/data/message[1]">&lt;/xf:message>
  &lt;/xf:action>
&lt;/xf:trigger>
&lt;xf:trigger>
  &lt;xf:label>6&lt;/xf:label>
  &lt;xf:action ev:event="DOMActivate">
    &lt;xf:message level="modal" ref="/data/message[2]">&lt;/xf:message>
  &lt;/xf:action>
&lt;/xf:trigger>
		  </pre>
		  <div class="sample">
		    <xf:label>2 + 2 = ?</xf:label>
		    <xf:trigger>
		      	<xf:label>4</xf:label>
		        <xf:action ev:event="DOMActivate">
		          <xf:message level="modal" ref="/data/message[1]"></xf:message>
		        </xf:action>
		    </xf:trigger>
		    <xf:trigger>
		      	<xf:label>6</xf:label>
		        <xf:action ev:event="DOMActivate">
		          <xf:message level="modal" ref="/data/message[2]"></xf:message>
		        </xf:action>
		    </xf:trigger>
		  </div>
		</p>
		
		<h2>The modeless message</h2>
		<p>
		  A modeless message can be shown when xf:message has the level attribute as
		  "modeless".  Click to see a modeless message saying "Reminder: Don't forget
		  to Save your work, so you will not lose it." (You can have both Tips of the
		  Day on your screen at the same time.):
		  <pre>
&lt;xf:trigger>
  &lt;xf:label>Tip of the Day #1.&lt;/xf:label>
  &lt;xf:action ev:event="DOMActivate">
    &lt;xf:message level="modeless">Reminder: Don't forget to Save your work, so you will not lose it.&lt;/xf:message>
  &lt;/xf:action>
&lt;/xf:trigger>
		  </pre>
		  <div class="sample">
		    <xf:trigger>
		      	<xf:label>Tip of the Day #1.</xf:label>
		        <xf:action ev:event="DOMActivate">
		          <xf:message level="modeless">Reminder: Don't forget to Save your work, so you will not lose it.</xf:message>
		        </xf:action>
		    </xf:trigger>
		  </div>
		</p>
		<p>
		  A modeless message works with the value attribute also.  Click to see a modeless
		  message saying "Reminder: Don't forget to check over your work when you are
		  finished." (You can have both Tips of the Day on your screen at the same time.):
		  <pre>
&lt;xf:trigger>
  &lt;xf:label>Tip of the Day #2.&lt;/xf:label>
  &lt;xf:action ev:event="DOMActivate">
    &lt;xf:message level="modeless" value="/data/message[3]">&lt;/xf:message>
  &lt;/xf:action>
&lt;/xf:trigger>
		  </pre>
		  <div class="sample">
		    <xf:trigger>
		      	<xf:label>Tip of the Day #2.</xf:label>
		        <xf:action ev:event="DOMActivate">
		          <xf:message level="modeless" value="/data/message[3]"></xf:message>
		        </xf:action>
		    </xf:trigger>
		  </div>
		</p>
		
		<h2>The ephemeral message</h2>
		<p>
		  A ephemeral message can be shown when xf:message has the level attribute as
		  "ephemeral".  Click to see a ephemeral message saying "I'm sorry, but you will
		  have to apply later.":
		  <pre>
&lt;xf:trigger>
  &lt;xf:label>Apply for this job.&lt;/xf:label>
  &lt;xf:action ev:event="DOMActivate">
    &lt;xf:message level="ephemeral">I'm sorry, but you will have to apply later.&lt;/xf:message>
  &lt;/xf:action>
&lt;/xf:trigger>
		  </pre>
		  <div class="sample">
		    <xf:trigger>
		      	<xf:label>Apply for this job.</xf:label>
		        <xf:action ev:event="DOMActivate">
		          <xf:message level="ephemeral">I'm sorry, but you will have to apply later.</xf:message>
		        </xf:action>
		    </xf:trigger>
		  </div>
		</p>
		<p>
		  A ephemeral message works with the ref attribute also.  Mouseover to see a
		  ephemeral message saying "Your text!" or whatever you put in the input box:
		  <pre>
&lt;xf:input ref="message[4]">
  &lt;xf:label>This is what your text says:&lt;/xf:label>
  &lt;xf:message ev:event="xforms-hint" level="ephemeral" ref=".">&lt;/xf:message>
&lt;/xf:input>
		  </pre>
		  <div class="sample">
		    <xf:input ref="message[4]">
		      	<xf:label>This is what your text says:</xf:label>
		        <xf:message ev:event="xforms-hint" level="ephemeral" ref="."></xf:message>
		    </xf:input>
		  </div>
		</p>

		<h2>Styling and child elements</h2>
		<p>
		  The xf:message's style attribute can control the width and height of the
		  message window, and a child element (like output) of xf:message should
		  still display correctly in the message window.  Click to see a modeless
		  message saying "You are about to delete: File X  I hope that was right.":
		  <pre>
&lt;xf:trigger>
  &lt;xf:label>Delete this file.&lt;/xf:label>
  &lt;xf:message ev:event="DOMActivate" level="modeless" style="width: 400px; height: 200px;">
    You are about to delete: &lt;xf:output ref="/data/message[5]">&lt;/xf:output>. I hope that was right.
  &lt;/xf:message>
&lt;/xf:trigger>
		  </pre>
		  <div class="sample">
		    <xf:trigger>
		        <xf:label>Delete this file.</xf:label>
		        <xf:message ev:event="DOMActivate" level="modeless" style="width: 400px; height: 200px;">
		        	You are about to delete: <xf:output ref="/data/message[5]"></xf:output>. I hope that was right.
		        </xf:message>
		    </xf:trigger>
		  </div>
		</p>
		<h2>Further reading</h2>
		<p>
		  For more information see the <a href="http://www.w3.org/TR/xforms11/#action-message">
		  definition of message in the XForms 1.1 specification</a>.
		</p>
	</body>
</html>
