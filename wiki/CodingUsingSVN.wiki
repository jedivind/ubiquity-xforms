#summary Development Contribution Process with SVN and Eclipse Subversive Instructions.

= Developing the Code =

Contributors have the option of working on the trunk code, but *do not commit* without code reviews, as described below.  The code review process is similar when a branch is used. 

For the first draft of this page, the instructions include the specifics for using Eclipse with subversive.  In the future of this page, the specific SVN command-line instructions will be added, which can be harvested from an older development process description [http://code.google.com/p/ubiquity/wiki/CodingUsingSvn here].

At the end of this page, there are also some instructions on setting up Subversive in Eclipse for use in the Ubiquity XForms project (this could go to another page and just be linked from here).

= Contribution Process (without branching) =

  # *When you want to make changes, work on trunk but DO NOT COMMIT*
    * To add a file, use Team | Add to Version Control... to add the file LOCALLY
    * To undo local changes to a file and go back to the server copy, use Team | Revert...
  # *When you want a code review, you need to make a copy of your changes onto a copy of the trunk.*
    # Copy the trunk to a directory in your changes location
      # Go to SVN Repositories perspective
      # Right Click on the trunk, choose Refactor | Copy To...
      # Open the changes directory and click the subdirectory with your gmail name
      # Rename the copy using a name associated with the feature your changes implement. For reference below, let the name be *FEATURE-X*
      # Comment should just say that you are creating a copy to patch and review.
    # Get your new copy into your project workspace
      # Go back to Java Perspective and Right click Package Explorer
      # New | Project
      # SVN | Projects from SVN | Next >>
      # The URL/user name/password dialog should be skipped this time
      # Next View is "Select Resource"
        * Choose your new trunk copy named e.g. FEATURE-X from your changes directory
      # Next View is "Check out as".  Click Finish
        * This accepts "Check out... Using New Project Wizard", recursive checkout, no ignore
      # The "Select a wizard" dialog comes up
        # Choose General | Project and hit next
        # Project Name ux-FEATURE-X
        # Use default location and Click Finish
  # *Apply your trunk changes to your ux-FEATURE-X copy*
    # Right click the ubiquity-xforms trunk project
    # Team | Create Patch ...
    # Hit Finish (accepts putting patch on the clipboard)
      * Note that changes to binary files must be handled *manually* because the patch system only handles text
      * Note that .xhtml files are of type application/xhtml+xml, which is being treated as binary by SVN
    # Right click the ux-FEATURE-X project
    # Team | Apply Patch ...
    # Hit Finish (pulls from clipboard)
    # Right click the ux-FEATURE-X project
    # Team | Commit
    # Add a comment that begins [REVIEW NEEDED] and explain feature
    # After commit, you will be able to see a page for your revision
      * Go to ubiquity project and click the [http://code.google.com/p/ubiquity-xforms/source/checkout sources tab]
      * Click the changes link, and at or near the top should be your revision (http://code.google.com/p/ubiquity-xforms/source/detail?r=NNNN)
      * The modifications can be viewed by expanding the trees OR to get a side-by-side diff comparison, don't click "Diff"! Instead, click the file link, then click "Diff" at the top right corner
    # Send email to ubiquity-xforms-eng@googlegroups.com with subject that begins *[REVIEW NEEDED] and contains rNNNN*
      * The typical review period is 48 hours. Put *URGENT* in the subject line to request a shorter review period
    # Two +1 reviews and a minimum of 48 hours are needed before committing to trunk
      * A review can be +1 and can still request minor editorial changes needing no further review or identify issues that should be raised in the issue system once the code is committed.
      * A -1 review halts the commit until the reason for the -1 is resolved
      * A neutral review can be used to raise issues without advancing or impeding a trunk commit.
      * Ping list again if there are not enough reviews within 48 hours
      * Except for addressing minor editorial changes, a substantive change should spawn a new review copy by repeating the above process, in which case the current review copy should be deleted without committing to trunk.
  # *Committing changes to the trunk and deleting the review copy*
    # Ensure you have the favorable review(s) needed 
    # Right click the trunk project and use Team | Update first
    # Right click the trunk project and use Team | Commit...
    # Delete ux-FEATURE-X project from the package explorer
    # Go to SVN Repositories perspective
    # Right-click changes/ux-FEATURE-X folder and choose Delete

= Setting up Subversive for use in Ubiquity XForms =

  # *Install Subversive plugin* 
    # Visit http://www.eclipse.org/subversive
    # Click "Downloads" and follow the instructions (particulars in the following steps)
    # Help | Software Updates
    # Click Available Software tab
    # Must install Subversive plugin
      * It's under the Ganymede Update Site, but that can be slow to update
      * Click "Add Site..." to add the specific site of the "Latest Release"
        (http://download.eclipse.org/technology/subversive/0.7/update-site/) 
      * Choose the Subversive SVN Team Provider checkbox
    # Must install Subversive Connectors as follows
      * Click "Add Site..."
      * Add the site indicated on the downloads site 
        * Click external site link (http://www.polarion.com/products/svn/subversive.php?src=eclipseproject)
        * Use update site http://www.polarion.org/projects/subversive/download/eclipse/2.0/update-site/
      * Open the Subversive SVN Connectors subtree
      * Choose the child Subversive SVN Connectors and SVN Kit 1.1.7
        (the latter is marked optional, but it isn't)
    # Click Install...
  # *Environment set up*
    # Window | Preferences
    # General | Editors | Text Editors
      * Set "Displayed Tab width: 4" and check "Insert spaces for tabs"
    # General | Team | SVN | Properties Configuration
    # On Automatic Properties tab, click Add button to add each of the following
{{{
	    Filename template   Properties
	    *.pdf               svn:mime-type=application/pdf for Properties
	    *.png               svn:mime-type=application/pdf
	    *.gif               svn:mime-type=application/pdf
	    *.jpeg              svn:mime-type=application/pdf
	    *.js                svn:eol-style=native
	    *.html              svn:eol-style=native
	    *.xhtml             svn:eol-style=native
}}}
  # *Obtain a local copy of the project trunk*
    # Right-click Package Explorer
    # New | Project
    # SVN | Projects from SVN | Next >>
    # URL: https://ubiquity-xforms.googlecode.com/svn/
    # User: same as gmail login (boyerj@ca.ibm.com)
    # Password: Google code password (Nu8RG8gg9fd9), not gmail login password
      * Log in to the Google Code Project
      * Under source tab, there is a link to get your Google code password
    # Click Save Password and then Click Next
    # Next View is "Select Resource".  Choose trunk and click Finish 
      * (a branch could be selected here instead)
    # Next View is "Check out as".  Click Finish
      * This accepts "Check out... Using New Project Wizard", recursive checkout, no ignore
    # The "Select a wizard" dialog comes up
      # Choose General | Project and hit next
      # Project Name *ubiquity-xforms*
      # Use default location
      # Click Finish
  # *Make a "changes" directory for yourself*
    # Open the SVN Repositories perspective 
      * Window | Open Perspectives | Other... 
      * SVN Repository Exploring
    # Now make a code review directory for yourself in changes branch
      * Choose changes branch, then Right click and choose New | Folder
      * Use your gmail address for the folder name