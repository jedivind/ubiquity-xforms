#summary How to enable Browsers for Cross Domain Submissions
#labels HowTo

= Introduction =

On some Browsers, cross domain submissions are not a problem (i.e. Internet Explorer so far).  But on other browsers like Firefox, this may be a bigger issue because the architects/developers have removed some of the past capability to issue cross domain requests.  This page will document some techniques to help test the cross domain submissions using XMLHttpRequests in Ubiquity XForms.

= Details =

==Mozilla Firefox 2==

For Mozilla Firefox 2, a user can modify security permissions to allow XMLHttpRequests from his browser.  To do this, follow these steps:

  # Completely close your Mozilla Firefox 2 browser
  # Determine the location and Edit your Firefox 2 profile
    * On Windows:
      * The location is usually found in the vicinity of C:\Documents and Settings\Administrator\Application Data\Mozilla\Firefox\Profiles\xxxxxxxx.default (where xxxxxxxx is a series of letters and numbers established by Mozilla Firefox, and default is the default name for a profile)
      * The Application Data folder is a hidden folder, so you may have to modify some "Windows Explorer" settings to allow easier access to the profile.
      * Edit the prefs.js file in the profile folder.
      * Add in lexical order (the "capability" needs to be in lexical order) the following permission: *{{{user_pref("capability.policy.default.XMLHttpRequest.open", "allAccess");}}}*
      * This permission will allow your Mozilla Firefox 2 browser to open XMLHttpRequests to all cross domain URLS. ( Be Careful and Be Aware of this setting )
  # When you restart your Mozilla Firefox 2 browser, you shoud now be able to submit to a cross domain location. 

==Mozilla Firefox 3==
With Mozilla Firefox 3, other security capabilities have been added and previous capabilities have been removed for Cross-domain XMLHttpRequests.  According to this [http://developer.mozilla.org/en/Cross-Site_XMLHttpRequest Firefox 3] website, only extensions and privileged code can use the [http://www.w3.org/TR/access-control/ W3C Access Control] currently implemented in Mozilla Firefox 3. 

How do you test cross domain URLs with Ubiquity XForms on Mozilla Firefox 3?
The ONLY way found to work so far is to separately add the following Security Privilege,

{{{
//experimental for Firefox Cross Domain problem
    try {
      netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead");
     } catch (e) {
      alert("Permission UniversalBrowserRead denied.");
     }
   //end experimental
}}}

in xforms-submission-yui.js before this statement,

{{{
return YAHOO.util.Connect.asyncRequest(
		sMethod,
		sAction,
		oCallback,
		sBody
	);
}}}


*Please be extra careful in your testing with this security instruction!*